jQuery('#race-form')
    .html("<%= escape_javascript(render(:partial => 'form')) %>");

jQuery('#race-form').modal();

jQuery("input.calendar").datepicker();
jQuery("input.calendar").datepicker("option", "dateFormat", "yy-mm-dd");


validate('race-form', {
  'race[name]': "required",
  'race[race_on]': "required"
});
  
jQuery('#other_distance').parent().hide();
jQuery('select#race_distance').change(function() {
  var s = jQuery('select#race_distance option:selected').text();
  if (s === 'other') {
    jQuery('#other_distance').parent().show();
  } else {
    jQuery('#other_distance').parent().hide();
  }
});

